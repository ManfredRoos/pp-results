
Biojs.HelloWorldYUI=Biojs.extend({constructor:function(options){var self=this;$("#"+self.opt.target).css({'font-family':self.opt.fontFamily,'background-color':self.opt.backgroundColor,'color':self.opt.fontColor,'font-size':'36px','text-align':'center','vertical-align':'middle','display':'table-cell','width':'597px','height':'300px'});$("#"+self.opt.target).css({'-moz-user-select':'none','-webkit-user-select':'none','user-select':'none'});text='Hello World with YUI+jQuery!';contentHTML='';for(i=0;i<text.length;i++){contentHTML+='<span>'+text[i]+'</span>';}
$(contentHTML).appendTo("#"+self.opt.target);self._addSelectionTrigger();},opt:{target:"YourOwnDivId",fontFamily:'"Andale mono", courier, monospace',fontColor:"white",backgroundColor:"#7BBFE9",selectionFontColor:"black",selectionBackgroundColor:"yellow"},eventTypes:["onHelloSelected"],setSize:function(size){if(size!=undefined){$("#"+this.opt.target).css('font-size',size);}},sayHello:function(){var self=this;text='Hi there! who are you?';contentHTML='';for(i=0;i<text.length;i++){contentHTML+='<span>'+text[i]+'</span>';}
$("#"+self.opt.target).html(contentHTML);},_addSelectionTrigger:function(){var self=this;var isMouseDown=false;var toggleClass=function(span){if(span.hasClass('selected')){span.removeClass('selected');span.setStyle('color',self.opt.fontColor);span.setStyle("background-color",self.opt.backgroundColor);}else{span.addClass('selected');span.setStyle('color',self.opt.selectionFontColor);span.setStyle("background-color",self.opt.selectionBackgroundColor);}};YUI().use('node',function(Y){Y.all('#'+self.opt.target+' span').on("mousedown",function(e){isMouseDown=true;var allSpan=Y.all('#'+self.opt.target+' span');allSpan.removeClass('selected');allSpan.setStyle('color',self.opt.fontColor);allSpan.setStyle("background-color",self.opt.backgroundColor);toggleClass(e.currentTarget);});Y.all('#'+self.opt.target+' span').on("mouseover",function(e){if(isMouseDown){toggleClass(e.currentTarget);}});Y.all('#'+self.opt.target+' span').on("mouseup",function(){isMouseDown=false;var textSelected='';$('#'+self.opt.target+' span.selected').each(function(){textSelected+=$(this).text();});if(textSelected=='Hello'){self.raiseEvent('onHelloSelected',{textSelected:textSelected})}});});}});